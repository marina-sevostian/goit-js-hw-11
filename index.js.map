{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\nexport function fetchImages(inputValue) {\n  return fetch(\n    `https://pixabay.com/api/?key=46729875-7729b8e358007a47de817f6d1&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      if (response.status === 404) {\n        return [];\n      }\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n  // .catch(error => {\n  //   console.error(error);\n  // });\n}\n\n// if (foundImages.length === 0) {\n//   return iziToast.error({\n//     title: 'Error',\n//     message: `Sorry, there are no images matching your search query. Please try again!`,\n//     color: '#ef4040',\n//     close: false,\n//   });\n// }\n// if (response.status === 404) {\n//   return [];\n// }\n","export function renderImages(images) {\n  const markup = images\n    .map(image => {\n      console.log('img', image);\n      return `\n   <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      data-source=\"${image.largeImageURL}\"\n      alt=\"${image.tags}\"\n    />\n  </a>\n  <p class=\"\">Likes ${image.likes}</p>\n  <p class=\"\">Views ${image.views}</p>\n  <p class=\"\">Comments ${image.comments}</p>\n  <p class=\"\">Downloads ${image.downloads}</p>\n      `;\n    })\n    .join('');\n  //   gallery.innerHTML('beforeend', markup);\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\n// import './js/pixabay-api';\n// import './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet gallery = document.querySelector('.gallery');\nconst fetchImagesBtn = document.querySelector('.search-form-btn');\nlet searchFormEl = document.querySelector('.search-form');\nlet inputForm = document.querySelector('.search-form-input');\n\nsearchFormEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const inputValue = inputForm.value.trim();\n  cleanHtml();\n  if (inputValue !== '') {\n    fetchImages(inputValue)\n      .then(images => {\n        if (!images.hits) {\n          return iziToast.error({\n            title: 'Error',\n            message: `Sorry, there are no images matching your search query. Please try again!`,\n            color: '#ef4040',\n            close: false,\n          });\n        }\n        renderImages(images);\n        SimpleLightbox.refresh();\n        // gallery.refresh();\n      })\n      .catch(error => console.log(error));\n  }\n});\n\nnew SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nfunction cleanHtml() {\n  gallery.innerHTML = '';\n}\n//   searchFormEl.reset();\n// JSON.parse(foundImages);\n\n// let gallery = $('.gallery a').simpleLightbox();\n\n// gallery.refresh();\n"],"names":["fetchImages","inputValue","response","renderImages","images","markup","image","gallery","searchFormEl","inputForm","e","cleanHtml","iziToast","SimpleLightbox","error"],"mappings":"6vBAGO,SAASA,EAAYC,EAAY,CACtC,OAAO,MACL,qEAAqEA,CAAU,0DACnF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GAAI,CAChB,GAAIA,EAAS,SAAW,IACtB,MAAO,GAET,MAAM,IAAI,MAAMA,EAAS,MAAM,CAChC,CACD,OAAOA,EAAS,MACpB,CAAG,CAIH,CClBO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IAAIE,IACH,QAAQ,IAAI,MAAOA,CAAK,EACjB;AAAA,mCACsBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGzCA,EAAM,YAAY;AAAA,qBACVA,EAAM,aAAa;AAAA,aAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA,sBAGDA,EAAM,KAAK;AAAA,sBACXA,EAAM,KAAK;AAAA,yBACRA,EAAM,QAAQ;AAAA,0BACbA,EAAM,SAAS;AAAA,QAEpC,EACA,KAAK,EAAE,EAEV,QAAQ,mBAAmB,YAAaD,CAAM,CAChD,CCVA,IAAIE,EAAU,SAAS,cAAc,UAAU,EACxB,SAAS,cAAc,kBAAkB,EAChE,IAAIC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAY,SAAS,cAAc,oBAAoB,EAE3DD,EAAa,iBAAiB,SAAUE,GAAK,CAC3CA,EAAE,eAAc,EAChB,MAAMT,EAAaQ,EAAU,MAAM,KAAI,EACvCE,IACIV,IAAe,IACjBD,EAAYC,CAAU,EACnB,KAAKG,GAAU,CACd,GAAI,CAACA,EAAO,KACV,OAAOQ,EAAS,MAAM,CACpB,MAAO,QACP,QAAS,2EACT,MAAO,UACP,MAAO,EACnB,CAAW,EAEHT,EAAaC,CAAM,EACnBS,EAAe,QAAO,CAE9B,CAAO,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAExC,CAAC,EAED,IAAID,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GAChB,CAAC,EACD,SAASF,GAAY,CACnBJ,EAAQ,UAAY,EACtB"}