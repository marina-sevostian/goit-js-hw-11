{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(inputValue) {\n  return fetch(\n    `https://pixabay.com/api/?key=46729875-7729b8e358007a47de817f6d1&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        if (response.status === 404) {\n          return [];\n        }\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n","let gallery = document.querySelector('.gallery');\n\nexport function renderImages(images) {\n  const markup = images\n    .map(image => {\n      return `<div class=\"photo\">\n   <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      data-source=\"${image.largeImageURL}\"\n      alt=\"${image.tags}\"\n    />\n  </a>\n  <div class=\"info\">\n  <p class=\"info-item\">Likes <span class=\"info-item-num\">${image.likes}</span></p>\n  <p class=\"info-item\">Views <span class=\"info-item-num\">${image.views}</span></p>\n  <p class=\"info-item\">Comments <span class=\"info-item-num\">${image.comments}</span></p>\n  <p class=\"info-item\">Downloads <span class=\"info-item-num\">${image.downloads}</span></p>\n  </div>\n     </div> `;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet gallery = document.querySelector('.gallery');\nconst fetchImagesBtn = document.querySelector('.search-form-btn');\nlet searchFormEl = document.querySelector('.search-form');\nlet inputForm = document.querySelector('.search-form-input');\nlet gallerySimpleLightbox = new SimpleLightbox('.gallery a');\n\nsearchFormEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const inputValue = inputForm.value.trim();\n  cleanHtml();\n  //   loader();\n  if (inputValue !== '') {\n    fetchImages(inputValue).then(images => {\n      if (images.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          color: '#ef4040',\n          close: false,\n        });\n      }\n      renderImages(images.hits);\n      gallerySimpleLightbox.refresh();\n    });\n    // fadeOut();\n    searchFormEl.reset();\n  }\n});\n\nnew SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nfunction cleanHtml() {\n  gallery.innerHTML = '';\n}\n// function loader() {\n//   document.querySelector('.loader').classList.add('active');\n// }\n// function fadeOut() {\n//   setTimeout(loader, 3000);\n// }\n// let mask = document.querySelector('.mask');\n\n// window.addEventListener('load', () => {\n//   mask.classList.add('hide');\n//   setTimeout(() => {\n//     mask.remove();\n//   }, 600);\n// });\n"],"names":["fetchImages","inputValue","response","error","gallery","renderImages","images","markup","image","searchFormEl","inputForm","gallerySimpleLightbox","SimpleLightbox","e","cleanHtml","iziToast"],"mappings":"6vBAAO,SAASA,EAAYC,EAAY,CACtC,OAAO,MACL,qEAAqEA,CAAU,0DAChF,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GAAI,CAChB,GAAIA,EAAS,SAAW,IACtB,MAAO,GAET,MAAM,IAAI,MAAMA,EAAS,MAAM,CAChC,CACD,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAMA,CAAK,CACzB,CAAK,CACL,CChBA,IAAIC,EAAU,SAAS,cAAc,UAAU,EAExC,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA,mCACsBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGzCA,EAAM,YAAY;AAAA,qBACVA,EAAM,aAAa;AAAA,aAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,2DAIoCA,EAAM,KAAK;AAAA,2DACXA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,+DACbA,EAAM,SAAS;AAAA;AAAA,aAGzE,EACA,KAAK,EAAE,EAEVJ,EAAQ,mBAAmB,YAAaG,CAAM,CAChD,CChBA,IAAIH,EAAU,SAAS,cAAc,UAAU,EACxB,SAAS,cAAc,kBAAkB,EAChE,IAAIK,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAwB,IAAIC,EAAe,YAAY,EAE3DH,EAAa,iBAAiB,SAAUI,GAAK,CAC3CA,EAAE,eAAc,EAChB,MAAMZ,EAAaS,EAAU,MAAM,KAAI,EACvCI,IAEIb,IAAe,KACjBD,EAAYC,CAAU,EAAE,KAAKK,GAAU,CACjCA,EAAO,KAAK,SAAW,GACzBS,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,MAAO,UACP,MAAO,EACjB,CAAS,EAEHV,EAAaC,EAAO,IAAI,EACxBK,EAAsB,QAAO,CACnC,CAAK,EAEDF,EAAa,MAAK,EAEtB,CAAC,EAED,IAAIG,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GAChB,CAAC,EACD,SAASE,GAAY,CACnBV,EAAQ,UAAY,EACtB"}